(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"B3c+":function(o,r,s){"use strict";s.r(r);var e=s("ofXK"),t=s("3Pt+"),a=s("tyNb"),n=s("fXoL"),i=s("H+bZ"),c=s("lGQG");function d(o,r){if(1&o&&(n.Tb(0,"div",24),n.Ac(1),n.Sb()),2&o){const o=n.dc();n.Bb(1),n.Cc(" ",o.changePasswordError.old_password[0]," ")}}function b(o,r){if(1&o&&(n.Tb(0,"div",24),n.Ac(1),n.Sb()),2&o){const o=n.dc();n.Bb(1),n.Cc(" ",o.changePasswordError.new_password1[0]," ")}}function l(o,r){if(1&o&&(n.Tb(0,"div",24),n.Ac(1),n.Sb()),2&o){const o=n.dc();n.Bb(1),n.Cc(" ",o.changePasswordError.new_password2[0]," ")}}function u(o,r){if(1&o&&(n.Tb(0,"div",25),n.Ac(1),n.Sb()),2&o){const o=n.dc();n.Bb(1),n.Bc(o.successPasswordMessage)}}const p=[{path:"",component:(()=>{class o{constructor(o,r,s){this.formBuilder=o,this.api=r,this.auth=s,this.changePasswordError={}}ngOnInit(){this.auth.user.subscribe(o=>{this.user=o,this.form=this.formBuilder.group({display_name:[o.account.name],image:[o.account.image],bio:[o.account.bio],color:[o.account.color]})}),this.changePasswordForm=this.formBuilder.group({old_password:["",t.p.required],new_password1:["",t.p.required],new_password2:["",t.p.required]})}submit(){this.loading||(this.loading=!0,this.api.account.update(this.user.username,this.form.value).subscribe(o=>{this.loading=!1,this.user.account=o,this.auth.setUser(this.user)}))}changePassword(){this.loading||(this.loading=!0,this.auth.changePassword(this.changePasswordForm.value).subscribe(o=>{this.loading=!1,this.successPasswordMessage=o.detail,this.changePasswordError={},this.changePasswordForm.reset()},o=>{this.loading=!1,this.successPasswordMessage="",this.changePasswordError=o.error}))}}return o.\u0275fac=function(r){return new(r||o)(n.Ob(t.c),n.Ob(i.a),n.Ob(c.a))},o.\u0275cmp=n.Ib({type:o,selectors:[["app-user-settings"]],decls:48,vars:8,consts:[[1,"container","py-3"],[1,"row","justify-content-center"],[1,"col-lg-4"],[1,"card","my-3"],[1,"card-header"],[1,"card-body",3,"formGroup","ngSubmit"],[1,"form-group"],["for","displayName"],["type","text","id","displayName","formControlName","display_name",1,"form-control"],["for","image"],["type","text","id","image","formControlName","image",1,"form-control"],["for","bio"],["type","text","id","bio","formControlName","bio",1,"form-control"],["for","color"],["id","color","type","color","formControlName","color",1,"form-control"],[1,"btn","btn-block","btn-info",3,"disabled"],["for","old_password"],["type","password","id","old_password","formControlName","old_password",1,"form-control"],["class","text-danger",4,"ngIf"],["for","new_password1"],["type","password","id","new_password1","formControlName","new_password1",1,"form-control"],["for","new_password2"],["type","password","id","new_password2","formControlName","new_password2",1,"form-control"],["class","alert alert-success",4,"ngIf"],[1,"text-danger"],[1,"alert","alert-success"]],template:function(o,r){1&o&&(n.Tb(0,"div",0),n.Tb(1,"div",1),n.Tb(2,"div",2),n.Tb(3,"div",3),n.Tb(4,"div",4),n.Ac(5,"Settings"),n.Sb(),n.Tb(6,"form",5),n.bc("ngSubmit",(function(){return r.submit()})),n.Tb(7,"div",6),n.Tb(8,"label",7),n.Ac(9,"Display name"),n.Sb(),n.Pb(10,"input",8),n.Sb(),n.Tb(11,"div",6),n.Tb(12,"label",9),n.Ac(13,"Image from imgur.com"),n.Sb(),n.Pb(14,"input",10),n.Sb(),n.Tb(15,"div",6),n.Tb(16,"label",11),n.Ac(17,"Your bio"),n.Sb(),n.Pb(18,"input",12),n.Sb(),n.Tb(19,"div",6),n.Tb(20,"label",13),n.Ac(21,"Your color"),n.Sb(),n.Pb(22,"input",14),n.Sb(),n.Tb(23,"button",15),n.Ac(24,"Update"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Tb(25,"div",2),n.Tb(26,"div",3),n.Tb(27,"div",4),n.Ac(28,"Change Password"),n.Sb(),n.Tb(29,"form",5),n.bc("ngSubmit",(function(){return r.changePassword()})),n.Tb(30,"div",6),n.Tb(31,"label",16),n.Ac(32,"Old password"),n.Sb(),n.Pb(33,"input",17),n.yc(34,d,2,1,"div",18),n.Sb(),n.Tb(35,"div",6),n.Tb(36,"label",19),n.Ac(37,"New password"),n.Sb(),n.Pb(38,"input",20),n.yc(39,b,2,1,"div",18),n.Sb(),n.Tb(40,"div",6),n.Tb(41,"label",21),n.Ac(42,"Confirm new password"),n.Sb(),n.Pb(43,"input",22),n.yc(44,l,2,1,"div",18),n.Sb(),n.yc(45,u,2,1,"div",23),n.Tb(46,"button",15),n.Ac(47,"Submit"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb()),2&o&&(n.Bb(6),n.jc("formGroup",r.form),n.Bb(17),n.jc("disabled",r.loading),n.Bb(6),n.jc("formGroup",r.changePasswordForm),n.Bb(5),n.jc("ngIf",r.changePasswordError.old_password),n.Bb(5),n.jc("ngIf",r.changePasswordError.new_password1),n.Bb(5),n.jc("ngIf",r.changePasswordError.new_password2),n.Bb(1),n.jc("ngIf",r.successPasswordMessage),n.Bb(1),n.jc("disabled",r.loading||r.changePasswordForm.invalid))},directives:[t.r,t.k,t.e,t.b,t.j,t.d,e.m],styles:[""]}),o})(),data:{title:"User Settings"}}];let m=(()=>{class o{}return o.\u0275mod=n.Mb({type:o}),o.\u0275inj=n.Lb({factory:function(r){return new(r||o)},imports:[[a.g.forChild(p)],a.g]}),o})();s.d(r,"UserSettingsModule",(function(){return w}));let w=(()=>{class o{}return o.\u0275mod=n.Mb({type:o}),o.\u0275inj=n.Lb({factory:function(r){return new(r||o)},imports:[[e.c,m,t.n]]}),o})()}}]);