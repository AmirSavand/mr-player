<!-- Party -->
<div class="party d-flex shadow" *ngIf="party">
  <div class="cover" [ngStyle]="{backgroundImage: 'url(https://i.imgur.com/M3zgvc8.jpg)'}"></div>
  <div class="d-flex flex-column justify-content-around ml-3">
    <div>
      <h1 class="font-weight-bold">{{ party.name }}</h1>
      <p>
        <a [routerLink]="['/user', party.user.id]">{{ party.user.username }}</a>
        &bull; 86 SONGS
        &bull; {{ party.date | date }}
      </p>
    </div>
    <div>
      <button class="btn btn-dark btn-sm">Play</button>
      <button class="btn btn-dark btn-sm ml-2">Like</button>
      <button class="btn btn-dark btn-sm ml-2">Join</button>
    </div>
  </div>
</div>

<!-- Categories -->
<div class="pl-4 pt-4 pb-2 text-uppercase" *ngIf="party">
  <a class="btn btn-link mr-3"
       [class.text-primary]="!category"
       [class.text-light]="category"
       (click)="category = null">All Songs</a>
  <a class="btn btn-link mr-3"
       [class.text-primary]="category === partyCategory"
       [class.text-light]="category !== partyCategory"
       (click)="category = partyCategory"
       *ngFor="let partyCategory of party.categories">
    {{ partyCategory.name }}
  </a>
</div>

<!-- Songs -->
<table class="table table-hover" *ngIf="songs">
  <tbody>
  <tr *ngFor="let song of songs" (click)="play(song)">
    <td>{{ song.name }}</td>
    <td>{{ song.user.username }}</td>
    <td class="text-secondary">
      <span *ngIf="song.category">#{{ song.category.name }}</span>
    </td>
  </tr>
  </tbody>
</table>
